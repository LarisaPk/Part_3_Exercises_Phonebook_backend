{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/DisplayPerson.js","components/Persons.js","services/personsServices.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchValue","handleSearchChange","value","onChange","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","check","onSubmit","type","DisplayPerson","name","number","handleDelete","onClick","Persons","personsToShow","map","person","key","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchValue","showAll","setShowAll","setMessage","notifClassName","setClassName","useEffect","personsService","initialPersons","console","log","length","filter","toLowerCase","includes","found","find","AddPerson","returnedPerson","concat","setTimeout","e","target","preventDefault","undefined","personToUpdate","window","confirm","updatedPersonData","catch","error","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0411604e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter =({searchValue, handleSearchChange}) =>{\r\n    return (\r\n        <div>\r\n            filter shown with <input value={searchValue} onChange={handleSearchChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm =({newName, handleNameChange, newNumber, handleNumberChange, check }) =>{\r\n    return (\r\n        <form onSubmit={check}>\r\n            <div>\r\n                  name: <input value={newName} onChange={handleNameChange}/>\r\n            </div>\r\n            <div>\r\n                  number: <input  value={newNumber} onChange={handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n              <button type=\"submit\">add</button>\r\n            </div>\r\n         </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst DisplayPerson =({name, number, handleDelete}) =>{\r\n    return (\r\n        <div>\r\n            <div>{name} {number}  <button onClick={handleDelete}>delete</button></div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default DisplayPerson","import React from 'react'\r\nimport DisplayPerson from './DisplayPerson'\r\n\r\nconst Persons =({personsToShow, handleDelete}) =>{\r\n    return (\r\n            personsToShow.map(person=>\r\n            <DisplayPerson key ={person.name} name={person.name} number={person.number} handleDelete={()=>handleDelete(person.id)}/>\r\n          )\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteNumber =(id)=>{\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response)\r\n}\r\nexport default { getAll, create, update, deleteNumber }","import React from 'react'\r\n\r\nconst Notification = ({ message, className }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={className}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  \r\nexport default Notification","import React, { useState, useEffect  } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personsService from './services/personsServices'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchValue, setSearchValue ] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [message, setMessage] = useState(null)\n  const [notifClassName, setClassName] = useState('')\n\n// fetching initial data\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  console.log('render', persons.length, 'persons')\n\n  // filters what to show all persons or those that match search query, case insensitive\n  const personsToShow = showAll\n  ? persons\n  : persons.filter(person =>\n    person.name\n    .toLowerCase()\n    .includes(searchValue.toLowerCase()))\n\n  // finds person by name (does not matter of it starts from capital letter or not)\n  const found = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())  \n\n  // checks if peson already exists, if not- calls AddPerson() when submit button clicked, if yes- asks if user wants to update info\n  const check=(e)=>{\n  e.preventDefault()\n  console.log(found)\n    if (found === undefined){ \n      AddPerson(newName, newNumber)\n    }\n    else {\n      const personToUpdate = {\n        name: found.name,\n        number: newNumber,\n      }\n      if (window.confirm(`${found.name} is already added to phonebook, replace the old number with a new one?`)) { \n        personsService\n        .update(found.id, personToUpdate)\n        .then( updatedPersonData => {\n          setPersons(persons.map(person => person.id!==found.id ? person :updatedPersonData ))\n          setNewName('')\n          setNewNumber('') \n          setClassName('success')\n          setMessage(`number of ${personToUpdate.name} has been changed to ${personToUpdate.number}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setMessage(\n            `Note '${personToUpdate.name}' has already been removed from server`\n          )\n          setClassName('error')\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setPersons(persons.filter(person => person.id !== found.id))\n        })\n      }\n    }\n  }\n\n  // adds new persons to state \n  const AddPerson=(newName, newNumber)=>{\n    const newPerson = {\n        name: newName,\n        number:newNumber,\n      }\n      personsService\n      .create(newPerson)\n      .then(returnedPerson => {\n        console.log(returnedPerson)\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('') \n        setClassName('success')\n        setMessage(`Added ${returnedPerson.name}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })      \n  }  \n\n  // sets Newname to state when value changes in the form input according to that value. then it displayed in the input field\n  const handleNameChange =(e)=>{\n  console.log(e.target.value)\n    setNewName(e.target.value)\n  }\n\n  //sets new number to state\n  const handleNumberChange =(e)=>{\n    console.log(e.target.value)\n    setNewNumber(e.target.value)\n  }\n\n  //sets search value to state and state of Showall dependidng on if there is value in the field \n  const handleSearchChange =(e)=>{\n    console.log(e.target.value)\n    setSearchValue(e.target.value)\n  // if there is a value in the search field\n    if (e.target.value){\n      setShowAll(false)}\n    else{\n      setShowAll(true)}\n  }\n\n  // deleting entries from the phonebook\n  const handleDelete =id => {\n    const personToDelete = persons.find(person => person.id === id)\n    if (window.confirm(`Delete ${personToDelete.name}?`)) { \n      personsService\n      .deleteNumber(id)\n      .then( response =>{\n        console.log(response)\n        setPersons(persons.filter(person => person.id!==id))\n        setClassName('success')\n        setMessage(`Deleted ${personToDelete.name}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })   \n    }\n  }\n\n  return (\n    <div> \n      <h2>Phonebook</h2>\n      <Notification message={message} className={notifClassName}/>\n      <Filter searchValue ={searchValue} handleSearchChange={handleSearchChange}/>\n      <h3>Add a new</h3>\n      <PersonForm newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} check={check} />\n      <h3>Numbers</h3>\n      <Persons personsToShow={personsToShow} handleDelete={handleDelete}/>  \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}